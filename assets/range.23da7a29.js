import{_ as F,a as D}from"./index.3baf1276.js";import{u as T}from"./useErrorState.4249dbe8.js";import{u as m}from"./usePopoverControls.d469eb65.js";import{g as b,i as V,j as w,r as N,o,f as S,l as n,C as f,v as R,y as l,t as L,B as X,k as A}from"./vendor.98cfb40b.js";function B(){let t={};const i=(E,a,_,I)=>{t.low=parseInt(a.value);let r=parseInt(_.value),d=parseInt(I);return E.val+d>=r?(_.value=E.val+d,t.high=parseInt(_.value)):t.high=r,s()},e=(E,a,_,I)=>{t.high=parseInt(_.value);let r=parseInt(a.value),d=parseInt(I);return E.val-d<=r?(a.value=E.val-d,t.low=parseInt(a.value)):t.low=r,s()},s=()=>t;return{setSpinboxLow:i,setSpinboxHigh:e,getRangeValues:s}}const H=b(()=>D(()=>import("./spinbox.0d486c82.js"),["assets/spinbox.0d486c82.js","assets/index.3baf1276.js","assets/index.fac3a5f5.css","assets/vendor.98cfb40b.js","assets/vendor.85251578.css"])),x={props:{ID:String,EXTRA_FIELD_CLASSES:String,REQUIRED:String,RANGE_LABEL:String,HIGH_VALUE:String,HIGH_LABEL_TITLE:String,LOW_VALUE:String,LOW_LABEL_TITLE:String,STEP:String,USE_PREFIX:String,PREFIX:String,USE_SUFFIX:String,SUFFIX:String,USE_ICON:String,ICON_PATH:String,ICON_SIZE_CLASS:String,FIELD_ERROR_CLASS:String,ARIA_REQUIRED:String,ARIA_DESCRIBEDBY:String,HELP_MESSAGE:String,ERROR_MESSAGE:String,HAS_ERROR:String,USE_POPOVER:String,POPOVER_TYPE:String,POPOVER_CLASSES:String,POPOVER_ID:String,POPOVER_HEADER:String},components:{spinbox:H},setup(t,{emit:i}){const e=t.FIELD_ERROR_CLASS?t.FIELD_ERROR_CLASS:V("fsa-field--error"),{showPopover:s,hidePopover:E}=m(),{hasError:a,setHasError:_,errorMessage:I,setErrorMessage:r}=T(),{initRange:d,setSpinboxLow:O,setSpinboxHigh:v,getRangeValues:Se}=B(),C=c=>h(O,c),u=c=>h(v,c),h=(c,g)=>{let U=c(g,document.getElementById(t.ID+"-low"),document.getElementById(t.ID+"-high"),t.STEP),P=g;P.range=U,i("emitRangeChange",P)};return w(()=>{t.HAS_ERROR=="true"&&_(!0)}),{hasError:a,setHasError:_,handleSpinboxLow:C,handleSpinboxHigh:u,fieldErrorClass:e,showPopover:s,hidePopover:E}}},y=["for","id"],k={key:0,class:"fsa-field__label-desc"},z={key:1,class:"fsa-field__label-desc fsa-m-l--xxs"},G=["data-target"],M={key:0,class:"fsa-icon fsa-icon--size-1","aria-hidden":"true",focusable:"false",role:"img",fill:"#494440",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Y=n("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1),Z=[Y],j={key:1,class:"fsa-icon fsa-icon--size-1","aria-hidden":"true",focusable:"false",role:"img",fill:"#494440",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},W=n("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1),Q=[W],q=["id"],J={class:"fsa-popover__content"},K={class:"fsa-popover__hd"},p={class:"fsa-level@m fsa-level--justify-between"},$={class:"fsa-popover__title"},ee=n("svg",{class:"fsa-icon fsa-icon--size-2","aria-hidden":"false",focusable:"false",role:"img",fill:"#494440",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1),te=[ee],ne={class:"fsa-popover__bd"},se=f("Help text body content"),_e={class:"fsa-level"},ie=n("div",null," - ",-1),Ee=["id"],ae=["id"];function oe(t,i,e,s,E,a){const _=N("spinbox");return o(),S("div",{class:L("fsa-field "+(s.hasError?s.fieldErrorClass:"")+" "+e.EXTRA_FIELD_CLASSES)},[n("label",{class:"fsa-field__label",for:e.ID,id:e.ID+"_label"},[f(R(e.RANGE_LABEL)+" ",1),e.REQUIRED=="true"?(o(),S("span",k,"Required")):l("",!0),e.USE_POPOVER=="true"?(o(),S("span",z,[n("button",{onClick:i[0]||(i[0]=I=>s.showPopover(e.POPOVER_ID)),class:"fsa-btn fsa-btn--flat","data-behavior":"toggle-popover","data-target":e.POPOVER_ID},[e.POPOVER_TYPE=="help"?(o(),S("svg",M,Z)):l("",!0),e.POPOVER_TYPE=="info"?(o(),S("svg",j,Q)):l("",!0)],8,G)])):l("",!0)],8,y),e.USE_POPOVER?(o(),S("div",{key:0,class:L("fsa-popover "+e.POPOVER_CLASSES),id:e.POPOVER_ID,"aria-hidden":"true"},[n("div",J,[n("div",K,[n("div",p,[n("span",$,R(e.POPOVER_HEADER),1),n("button",{onClick:i[1]||(i[1]=I=>s.hidePopover(e.POPOVER_ID)),class:"",type:"button"},te)])]),n("div",ne,[X(t.$slots,"default",{},()=>[se])])])],10,q)):l("",!0),n("div",_e,[A(_,{ID:e.ID+"-low",INPUT_VALUE:e.LOW_VALUE,LABEL_TITLE:e.LOW_LABEL_TITLE,STEP:e.STEP,USE_PREFIX:e.USE_PREFIX,PREFIX:e.PREFIX,USE_SUFFIX:e.USE_SUFFIX,SUFFIX:e.SUFFIX,USE_ICON:e.USE_ICON,ICON_PATH:e.ICON_PATH,ICON_SIZE_CLASS:e.ICON_SIZE_CLASS,onEmitSpin:s.handleSpinboxLow,ARIA_DESCRIBEDBY:e.ID+"-low",ref:"lowRangeRef"},null,8,["ID","INPUT_VALUE","LABEL_TITLE","STEP","USE_PREFIX","PREFIX","USE_SUFFIX","SUFFIX","USE_ICON","ICON_PATH","ICON_SIZE_CLASS","onEmitSpin","ARIA_DESCRIBEDBY"]),ie,A(_,{ID:e.ID+"-high",INPUT_VALUE:e.HIGH_VALUE,LABEL_TITLE:e.HIGH_LABEL_TITLE,STEP:e.STEP,USE_PREFIX:e.USE_PREFIX,PREFIX:e.PREFIX,USE_SUFFIX:e.USE_SUFFIX,SUFFIX:e.SUFFIX,USE_ICON:e.USE_ICON,ICON_PATH:e.ICON_PATH,ICON_SIZE_CLASS:e.ICON_SIZE_CLASS,onEmitSpin:s.handleSpinboxHigh,ARIA_DESCRIBEDBY:e.ID+"-high",ref:"highRangeRef"},null,8,["ID","INPUT_VALUE","LABEL_TITLE","STEP","USE_PREFIX","PREFIX","USE_SUFFIX","SUFFIX","USE_ICON","ICON_PATH","ICON_SIZE_CLASS","onEmitSpin","ARIA_DESCRIBEDBY"])]),e.HELP_MESSAGE?(o(),S("span",{key:1,id:e.ID+"__help",class:"fsa-field__help"},R(e.HELP_MESSAGE),9,Ee)):l("",!0),s.hasError?(o(),S("span",{key:2,id:e.ID+"__error-message",class:"fsa-field__message",role:"alert"},R(e.ERROR_MESSAGE),9,ae)):l("",!0)],2)}var ce=F(x,[["render",oe]]);export{ce as default};
